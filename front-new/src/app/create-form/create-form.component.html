<div class="card flex justify-content-center">
    <p-stepper [linear]="true">
        <p-stepperPanel header="Configuration du Form Container">
            <ng-template pTemplate="content" let-nextCallback="nextCallback" let-index="index">
                <div class="flex flex-column h-12rem">
                    <div class="border-2 border-dashed surface-border border-round surface-ground full-width-input font-medium">
                      <div class="p-field p-grid section-spacing">
                        <p-floatLabel>
                            <input pInputText id="title" [(ngModel)]="form.title" required/>
                            <label for="title">Form title</label>
                          <small *ngIf="form.title.trim() === ''" class="p-error">Ce champ est obligatoire</small>
                        </p-floatLabel>
                      </div>

                      <div class="p-field p-grid section-spacing">
                        <p-floatLabel>
                          <textarea rows="5" cols="30" id="description" pInputTextarea [(ngModel)]="form.description"  [autoResize]="true" required>
                          </textarea>
                          <label for="description">Description</label>
                          <small *ngIf="form.description.trim() === ''" class="p-error">Ce champ est obligatoire</small>
                        </p-floatLabel>
                      </div>

                      <div class="p-field p-grid section-spacing">
                        <p-floatLabel>
                           <input pInputText id="userEmail" [(ngModel)]="form.userEmail"  required/>
                          <label for="userEmail">User Email</label>
                          <small *ngIf="!emailPattern.test(form.userEmail)" class="p-error">Email invalide</small>
                        </p-floatLabel>
                      </div>

                      <div class="p-field p-grid section-spacing">
                        <label>Escalade</label>
                        <p-toggleButton [(ngModel)]="form.escalation" onLabel="On" offLabel="Off"/>
                      </div>
                      <div class="card p-fluid" *ngIf="form.escalation">
                        <p-floatLabel>
                          <p-chips id="managerEmail" [(ngModel)]="form.managerEmail" required [max]="3"/>
                        </p-floatLabel>
                        <small *ngIf="!form.managerEmail || !emailPattern.test(form.managerEmail)" class="p-error">Email
                          invalide</small>
                      </div>
                    </div>
                </div>

                <div class="flex pt-4 justify-content-end">
                    <p-button
                        label="Next"
                        icon="pi pi-arrow-right"
                        iconPos="right"
                        (onClick)="nextCallback.emit()" />
                </div>
            </ng-template>
        </p-stepperPanel>
        <p-stepperPanel header="Header II">
            <ng-template pTemplate="content" let-prevCallback="prevCallback" let-nextCallback="nextCallback" let-index="index">
                <div class="flex flex-column h-12rem">
                    <div class="border-2 border-dashed surface-border border-round surface-ground flex-auto flex justify-content-center align-items-center font-medium">
                        Content II
                    </div>
                </div>
                <div class="flex pt-4 justify-content-between">
                    <p-button
                        label="Back"
                        icon="pi pi-arrow-left"
                        (onClick)="prevCallback.emit()" />
                    <p-button
                        label="Next"
                        icon="pi pi-arrow-right"
                        iconPos="right"
                        (onClick)="nextCallback.emit()" />
                </div>
            </ng-template>
        </p-stepperPanel>
        <p-stepperPanel header="Header III">
            <ng-template pTemplate="content" let-prevCallback="prevCallback" let-index="index">
                <div class="flex flex-column h-12rem">
                    <div class="border-2 border-dashed surface-border border-round surface-ground flex-auto flex justify-content-center align-items-center font-medium">
                        Content III
                    </div>
                </div>
                <div class="flex pt-4 justify-content-start">
                    <p-button
                        label="Back"
                        icon="pi pi-arrow-left"
                        (onClick)="prevCallback.emit()" />
                </div>
            </ng-template>
        </p-stepperPanel>
    </p-stepper>
</div>
