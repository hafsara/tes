<p-toast key="br" position="bottom-right"
         [showTransformOptions]="'translateY(100%)'"
         [showTransitionOptions]="'1000ms'"
         [hideTransitionOptions]="'1000ms'"
         [showTransformOptions]="'translateX(100%)'">
  <ng-template let-message pTemplate="message">
    <div class="flex flex-column align-items-start" style="flex: 1">
      <div class="font-bold">
        {{ message.summary }}
      </div>
      <div>
        {{ message.detail }}
      </div>
      <p-button size="small" label="refresh" (onClick)="handleToastClick()" severity="warning"/>
    </div>
  </ng-template>

</p-toast>
<app-navbar
  (appOptionsLoaded)="onAppOptionsLoaded($event)"
  (selectedAppIdsChange)="onSelectedAppIdsChange($event)">
</app-navbar>

<div class="dashboard">
  <div class="sidebar">
    <aside>
      <button (click)="navigateToCreateForm()" class="button-17">Create New Form</button>
      <div class="card flex justify-content-center">
        <p-menu [model]="menuItems" class="custom-menu"></p-menu>
      </div>
    </aside>
  </div>

  <div class="content" [ngSwitch]="currentView">
    <div *ngSwitchCase="'table'">
      <app-form-table
        [forms]="forms"
        [loading]="loading"
        (formSelected)="onFormSelected($event)">
      </app-form-table>
    </div>

    <div *ngSwitchCase="'questions'">
      <p-button icon="pi pi-chevron-left" (click)="switchTo('table')"></p-button>
      <app-form-container-preview [formContainer]="formContainer"></app-form-container-preview>
    </div>

    <div *ngSwitchCase="'createForm'">
      <p-button icon="pi pi-chevron-left" (click)="switchTo('table')"></p-button>
      <app-create-form-container [appOptions]="appOptions"></app-create-form-container>
    </div>

    <div *ngSwitchCase="'loading'">
      <div class="card flex justify-content-center">
        <p-progressSpinner ariaLabel="loading"></p-progressSpinner>
      </div>
    </div>

    <div *ngSwitchDefault>
      <p>Invalid view selected</p>
    </div>
  </div>
</div>
