<div class="user-view">
  <h2>{{ formData.title }}</h2>
  <p>{{ formData.description }}</p>

  <div *ngFor="let question of formData.questions">
    <h3>{{ question.text }}</h3>
    <ng-container [ngSwitch]="question.type">
      <!-- Text Input -->
      <div *ngSwitchCase="'text'">
        <input type="text" placeholder="Enter your response" [(ngModel)]="question.response" name="response{{question.text}}" />
      </div>

      <!-- Radio Buttons for Multiple Choice Questions -->
      <div *ngSwitchCase="'multipleChoice'">
        <div *ngFor="let option of question.options">
          <p-radioButton name="group{{question.text}}" [(ngModel)]="question.response" [value]="option" class="mr-2"></p-radioButton>
          <label>{{ option }}</label>
        </div>
      </div>

      <!-- Checkboxes for Multiple Selections -->
      <div *ngSwitchCase="'checkbox'">
        <div *ngFor="let option of question.options">
          <p-checkbox [binary]="true" [label]="option"
                      [ngModel]="isChecked(question.selectedOptions || [], option)"
                      (ngModelChange)="toggleOption(question.selectedOptions || [], option)">
          </p-checkbox>
        </div>
      </div>

      <!-- Dropdown for Select List Questions -->
      <div *ngSwitchCase="'dropdown'">
        <p-dropdown [(ngModel)]="question.response" [options]="questionDropdownOptions[question.text]"
                    placeholder="Select an option" class="w-full"></p-dropdown>
      </div>
    </ng-container>
  </div>

  <button pButton label="Submit" icon="pi pi-check" class="p-button-raised mt-4" (click)="onSubmit()"></button>
</div>
